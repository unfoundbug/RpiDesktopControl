@page "/"
@inject DPSService DpsDevice

<DPSComponent />
<FZ35Component />

@code{

    protected override void OnInitialized()
    {
        base.OnInitialized();
        this.DpsDevice.PropertiesUpdated += this.dpsChanged;
    }

    public void dpsChanged()
    {
        this.InvokeAsync(() => StateHasChanged());
    }

    public void EnableDevice()
    {
        Console.WriteLine("Enabling device");
        this.DpsDevice.Start();
        Console.WriteLine("Start requested");
    }

    public void DisableDevice()
    {
        Console.WriteLine("Disabling device");
        this.DpsDevice.Stop();
        Console.WriteLine("Stop requested");
    }

    public void Dispose()
    {
        this.DpsDevice.PropertiesUpdated -= this.dpsChanged;
    }
}